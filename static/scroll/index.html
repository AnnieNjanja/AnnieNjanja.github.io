<!-- <!DOCTYPE html> -->
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Scrollama: Sticky Overlay Example</title>
    <meta name="Annie Njanja" content="FEATURE" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
    <style>
      #scrolly {
        position: relative;
        background-color: #f3f3f3;
        padding: 1rem;
      }

      article {
        position: relative;
        padding: 0;
        max-width: 20rem;
        margin: 0 auto;
      }

      .sticky-thing {
        position: -webkit-sticky;
        position: sticky;
        left: 0;
        width: 100%;
        margin: 0;
        background-color: #8a8a8a;
        z-index: 0;
        top: 12.5vh;
        height: 75vh;
        /* Center everything inside */
        display: flex;
        align-items: center;
        justify-content: center;
        background-size: 100% 100%;
        height: 1000px;
       
        
       
        
        
      }

      .sticky-thing p {
        font-size: 8rem;
        font-weight: 900;
        color: #fff;
      }

      .step {
        margin: 0 auto 2rem auto;
        margin-bottom: 15rem;
        color: #fff;
        background-color: rgba(57, 100, 81, 0.1);
      }

      .step:last-child {
        margin-bottom: 0;
      }

      .step.is-active p {
        background-color: goldenrod;
        color: #3b3b3b;
      }

      .step p {
        text-align: center;
        padding: 1rem;
        font-size: 1.5rem;
        background-color: #3b3b3b;
      }
    </style>
  </head>

  <body>
    <main>
      <nav>
       
        <div class="nav__examples"></div>
          <p>Annie Njanja:</p>
          <a href="https://annienjanja.github.io/">More stories</a>
          
    
        </div>
      </nav>
      <section id="intro">
        <h1 class="intro__hed">Life is back to normal in New York</h1>
        <p class="intro__dek">
          Calls for Cuomo to accelerate vaccine rollout among seniors
        </p>
      </section>

      <section id="lede" class = "narrow-column">
        <p class = "plain_graphs">
          New York City has the lowest Covid vaccine coverage among nursing home residents  compared to the other nine regions across the state despite having been the worst-hit  by the pandemic.  

          Four months after the vaccine drive started, coverage for nursing home residents in the city stood at 73 percent by yesterday, state data shows. This fell  below the statewide average coverage, shining light on the slow inoculation drive of the vulnerable people in nursing homes across the city. In contrast, over 90 percent of residents in other New York regions like North County and Finger Lakes had received the vaccine. 
          
        </p>
      </section>
      <section id="scrolly">
        <div class="sticky-thing">
          <p></p>
        </div>
        <article>
          <div class="step" data-step="" data-image="url('images/trash.png')">
            <p>Nursing homes were the first target of the immunization drive which kicked off in December last year following the high mortality rate at the height of the pandemic.  Pharmacy chains like CVS and Walgreens were used to fast-track the process of offering onsite vaccinations to residents, through the federal government-led partnership. The homes, regarded as the setting of Covid outbreaks, were included in the first phase of the vaccine roll-out together with healthcare workers at a time when death rate in the facilities was at an all-time high.</p>
          </div>
          <div class="step" data-step="" data-image="url('images/Vaxxed.png')">
            <p>But with the relaxation of visitation restrictions in nursing homes, it is now feared that the lack of full vaccine coverage is likely to see an increase in infection and deaths in these facilities. Experts said that long term care facilities like nursing homes are not safe yet, and require a continuous vaccine supply. These facilities often host the elderly and immunocompromised individuals making them prone to serious complications and death from the virus.</p>
          </div>
          <div class="step" data-step="" data-image="url('images/bench.png')">
            <p>“There is this notion among some that vaccines were administered in long term care, so we’re done, and that would be a perilous mistake,” said Dr. David Gifford, the chief medical officer of the American Health Care Association and the National Center for Assisted Living, an industry group. Anticipating inadequate supply as more people become eligible for the vaccine, the association wrote to White House last month asking that the federal government ensure that the stock for long-term care facilities remains sufficient. This is also in the hope of keeping new covid cases and deaths in these institutions low.</p>
          </div>
          <div class="step" data-step="" data-image="url('images/excellence.png')">
            <p>Already, some nursing homes have hinted to the Center for Medicare and Medicaid Services (CMS) that they require help in vaccinating their residents and staff, pointing to an access challenge that some are currently experiencing. At least 38 institutions across the state asked for help, according to the latest CMS nursing homes report. A third of these homes  are in the city, and among them is The Riverside facility, which has so far recorded 91 covid deaths. The city is home to less than half of the state population.</p>
          </div>
        </article>
      </section>
       
      <section id="outro2">
        <p class = "plain_graphs2 narrow-column">
         The New York state has a covid task force which oversees the distributions but the initial roll-out of the vaccine in long-term care facilities was mainly driven by CDC partner pharmacies. Nursing homes that signed up received three onsite clinics during the CDC’s Pharmacy Partnership for Long-Term Care program, which officially ended in March. <p</>
         <p>
         Currently, nursing homes can access their vaccine allocation through partner organizations under the newly established Federal Retail Pharmacy Program. The program will sustain vaccine supply as new residents check in and hesitancy among staff reduces. The model is mainly being used to reach the masses across the US, by making the vaccine available within five miles of where people  live.
         </p>
         <p>
         “Nursing homes and assisted living communities have a constant flow of new residents, whether coming from the hospital or the community, and many of them haven’t been vaccinated yet,” Gifford said in a statement last week.
         <p>He said that long term care facilities also have new staff members and existing staff who have since decided to get vaccinated.</p>
         <p>The city had the highest covid vaccine hesitancy among nursing home staff, with only about half having been vaccinated by Sunday. Staff members in other facilities across the state were not as eager, with the best coverage being 68 percent in the North Country region. Notably, the achieved coverage is an improvement from the initial low uptake at the start of the roll-out.
          </p>
        </section>
      </main>


    <!-- <div class='debug'></div> -->
    <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
    <script src="https://unpkg.com/scrollama"></script>
    <script>
      // using d3 for convenience
      var main = document.querySelector("main");
      var scrolly = main.querySelector("#scrolly");
      var sticky = scrolly.querySelector(".sticky-thing");
      var article = scrolly.querySelector("article");
      var steps = article.querySelectorAll(".step");
 
      // initialize the scrollama
      var scroller = scrollama();

      // scrollama event handlers
      function handleStepEnter(response) {
        // response = { element, direction, index }
        var el = response.element;

        // remove is-active from all steps
        // then add is-active to this step
        steps.forEach(step => step.classList.remove('is-active'));
        el.classList.add('is-active');

        // update graphic based on step
        sticky.querySelector("p").innerText = `${el.dataset.step}`;
        sticky.style.backgroundColor = el.dataset.color;
        sticky.querySelector("p").style.fontSize = `${el.dataset.step}rem`;
        sticky.style.backgroundImage = el.dataset.image;
      }


      function init() {
        // 2. setup the scroller passing options
        // 		this will also initialize trigger observations
        // 3. bind scrollama event handlers (this can be chained like below)
        scroller
          .setup({
            step: "#scrolly article .step",
            offset: 0.33,
            debug: false
          })
          .onStepEnter(handleStepEnter);

        // setup resize event
        window.addEventListener("resize", scroller.resize);
      }

      // kick things off
      init();
    </script>
  </body>
</html>
